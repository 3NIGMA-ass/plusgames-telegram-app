# –°–∫—Ä–∏–ø—Ç –¥–ª—è —É—Å—Ç–∞–Ω–æ–≤–∫–∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π PlusGames
Write-Host "üì¶ –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π PlusGames..." -ForegroundColor Green

# –ü—Ä–æ–≤–µ—Ä—è–µ–º Node.js
Write-Host "üîç –ü—Ä–æ–≤–µ—Ä—è–µ–º Node.js..." -ForegroundColor Yellow
try {
    $nodeVersion = node --version
    Write-Host "‚úÖ Node.js –Ω–∞–π–¥–µ–Ω: $nodeVersion" -ForegroundColor Green
}
catch {
    Write-Host "‚ùå Node.js –Ω–µ –Ω–∞–π–¥–µ–Ω! –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ Node.js." -ForegroundColor Red
    Write-Host "üì• –°–∫–∞—á–∞–π—Ç–µ —Å: https://nodejs.org/" -ForegroundColor Yellow
    exit 1
}

# –ü—Ä–æ–≤–µ—Ä—è–µ–º npm
try {
    $npmVersion = npm --version
    Write-Host "‚úÖ npm –Ω–∞–π–¥–µ–Ω: $npmVersion" -ForegroundColor Green
}
catch {
    Write-Host "‚ùå npm –Ω–µ –Ω–∞–π–¥–µ–Ω!" -ForegroundColor Red
    exit 1
}

# –û—á–∏—â–∞–µ–º –∫—ç—à npm
Write-Host "üßπ –û—á–∏—â–∞–µ–º –∫—ç—à npm..." -ForegroundColor Yellow
npm cache clean --force

# –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
Write-Host "üì¶ –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏..." -ForegroundColor Yellow
try {
    npm install --legacy-peer-deps
    Write-Host "‚úÖ –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã" -ForegroundColor Green
}
catch {
    Write-Host "‚ùå –û—à–∏–±–∫–∞ –ø—Ä–∏ —É—Å—Ç–∞–Ω–æ–≤–∫–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π" -ForegroundColor Red
    Write-Host "üìã –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –∑–∞–ø—É—Å—Ç–∏—Ç—å:" -ForegroundColor Yellow
    Write-Host "   npm install --legacy-peer-deps --force" -ForegroundColor White
    exit 1
}

# –ü—Ä–æ–≤–µ—Ä—è–µ–º TypeScript
Write-Host "üîç –ü—Ä–æ–≤–µ—Ä—è–µ–º TypeScript..." -ForegroundColor Yellow
try {
    npx tsc --noEmit
    Write-Host "‚úÖ TypeScript –ø—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–æ–π–¥–µ–Ω–∞" -ForegroundColor Green
}
catch {
    Write-Host "‚ö†Ô∏è –ï—Å—Ç—å –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è TypeScript, –Ω–æ –æ–Ω–∏ –Ω–µ –∫—Ä–∏—Ç–∏—á–Ω—ã" -ForegroundColor Yellow
}

Write-Host ""
Write-Host "üéâ –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∞!" -ForegroundColor Green
Write-Host ""
Write-Host "üìã –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏:" -ForegroundColor Yellow
Write-Host "   1. –°–æ–∑–¥–∞–π—Ç–µ .env —Ñ–∞–π–ª: copy env.example .env" -ForegroundColor White
Write-Host "   2. –ó–∞–ø–æ–ª–Ω–∏—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –≤ .env —Ñ–∞–π–ª–µ" -ForegroundColor White
Write-Host "   3. –ó–∞–ø—É—Å—Ç–∏—Ç–µ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫—É: .\dev.ps1" -ForegroundColor White
Write-Host "   4. –ò–ª–∏ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ: .\deploy.ps1" -ForegroundColor White